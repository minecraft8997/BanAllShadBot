plugins {
    id 'java'
    id 'application'
}

version = '1.0.0'

application {
    mainClass = 'ru.deewend.banallbot.Main'
}

repositories {
    mavenCentral()
    maven {
        name 'm2-dv8tion'
        url 'https://m2.dv8tion.net/releases'
    }
}

dependencies {
    implementation('net.dv8tion:JDA:4.4.0_350') {
        exclude module: 'opus-java'
        exclude module: 'okhttp'
    }
    implementation 'com.squareup.okhttp3:okhttp:4.10.0'
}

task(runMain, dependsOn: 'classes', type: JavaExec) {
    //noinspection GrDeprecatedAPIUsage
    main = 'ru.deewend.banallbot.Main'
    classpath = sourceSets.main.runtimeClasspath
}

sourceCompatibility = '1.8'
targetCompatibility = '1.8'